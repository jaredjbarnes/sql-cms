{"version":3,"sources":["../src/CmsDatabase.js"],"names":["CmsDatabase","constructor","sqliteFile","Error","sqliteDatabase","sqlite","Database","database","schemas","prepareAsync","createTablesFromSchemasAsync","getCmsDatabaseAsync","cmsDatabase"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEe,MAAMA,WAAN,CAAmB;AAC9BC,EAAAA,WAAW,CAACC,UAAD,EAAa;AACpB,QAAIA,UAAU,IAAI,IAAlB,EAAuB;AACnB,YAAM,IAAIC,KAAJ,CAAU,qEAAV,CAAN;AACH;;AAED,UAAMC,cAAc,GAAG,IAAIC,gBAAOC,QAAX,CAAoBJ,UAApB,CAAvB;AAEA,SAAKK,QAAL,GAAgB,IAAID,gCAAJ,CAAc;AAC1BC,MAAAA,QAAQ,EAAEH,cADgB;AAE1BI,MAAAA,OAAO,EAAEA;AAFiB,KAAd,CAAhB;AAKH;;AAED,QAAMC,YAAN,GAAoB;AAChB,UAAM,KAAKF,QAAL,CAAcG,4BAAd,EAAN;AACH;;AAED,eAAaC,mBAAb,CAAiCT,UAAjC,EAA4C;AACxC,UAAMU,WAAW,GAAG,IAAIZ,WAAJ,CAAgBE,UAAhB,CAApB;AACA,UAAMU,WAAW,CAACH,YAAZ,EAAN;AAEA,WAAOG,WAAW,CAACL,QAAnB;AACH;;AAxB6B","sourcesContent":["import schemas from \"./schemas\";\nimport { SqliteDatabase as Database } from \"sqlite-repository\";\nimport sqlite from \"sqlite3\";\n\nexport default class CmsDatabase  {\n    constructor(sqliteFile) {\n        if (sqliteFile == null){\n            throw new Error(\"Invalid Argument Exception: CmsDatabase needs to have a sqliteFile.\");\n        }\n\n        const sqliteDatabase = new sqlite.Database(sqliteFile);\n\n        this.database = new Database ({\n            database: sqliteDatabase,\n            schemas: schemas\n        });\n\n    }\n\n    async prepareAsync(){\n        await this.database.createTablesFromSchemasAsync();\n    }\n\n    static async getCmsDatabaseAsync(sqliteFile){\n        const cmsDatabase = new CmsDatabase(sqliteFile);\n        await cmsDatabase.prepareAsync();\n\n        return cmsDatabase.database;\n    }\n}"],"file":"CmsDatabase.js"}